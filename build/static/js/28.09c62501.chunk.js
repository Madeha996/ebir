(this["webpackJsonplightence-admin"]=this["webpackJsonplightence-admin"]||[]).push([[28],{576:function(e,n,t){"use strict";t.r(n);var a,i,o=t(79),c=t(8),r=t(9),s=t(211);r.c.div(a||(a=Object(c.a)(["\n  margin-top: 1.875rem;\n"])));const l=Object(r.c)(s.a)(i||(i=Object(c.a)(["\n  margin-bottom: 2rem;\n"])));var d,m=t(0),b=t(281),u=t(282),j=t(572),p=t(7);const v=Object(r.c)(j.a)(d||(d=Object(c.a)(["\n  & thead .ant-table-cell {\n    color: var(--primary-color);\n    font-size: ",";\n    line-height: 1.25rem;\n\n    & .anticon {\n      color: var(--primary-color);\n    }\n  }\n\n  & tbody .ant-table-cell {\n    color: var(--text-main-color);\n    font-size: ",";\n    line-height: 1.25rem;\n  }\n\n  & tbody .ant-table-row-expand-icon {\n    min-height: 1.25rem;\n    min-width: 1.25rem;\n    border-radius: 0.1875rem;\n    margin-top: 0;\n  }\n\n  // Override default antd selector\n  &\n    .ant-table-thead\n    > tr\n    > th:not(:last-child):not(.ant-table-selection-column):not(.ant-table-row-expand-icon-cell):not([colspan])::before {\n    background-color: var(--primary-color);\n  }\n\n  & .ant-pagination-prev,\n  .ant-pagination-next,\n  .ant-pagination-jump-prev,\n  .ant-pagination-jump-next,\n  .ant-pagination-item {\n    min-width: 2.0625rem;\n    height: 2.0625rem;\n    line-height: 2.0625rem;\n    border-radius: 0;\n    font-size: ",";\n  }\n\n  & .ant-pagination-prev .ant-pagination-item-link,\n  .ant-pagination-next .ant-pagination-item-link {\n    border-radius: 0;\n  }\n\n  & .ant-checkbox-inner {\n    border-radius: 0.1875rem;\n    height: 1.25rem;\n    width: 1.25rem;\n    border: 1px solid var(--primary-color);\n  }\n\n  & .editable-row .ant-form-item-explain {\n    position: absolute;\n    top: 100%;\n    font-size: 0.75rem;\n  }\n\n  .ant-table-column-sort {\n    background-color: transparent;\n  }\n\n  .ant-pagination-item-container .ant-pagination-item-ellipsis {\n    color: var(--disabled-color);\n  }\n\n  .ant-pagination-disabled {\n    .ant-pagination-item-link,\n    .ant-pagination-item a {\n      color: var(--disabled-color);\n    }\n  }\n\n  .ant-pagination.ant-pagination-disabled {\n    .ant-pagination-item-link,\n    .ant-pagination-item a {\n      color: var(--disabled-color);\n    }\n  }\n"])),p.d.xs,p.d.xs,p.d.xs);t.p;var g=t(3);const O=e=>Object(g.jsx)(v,{...e});var h=t(54),x=t(376),f=t(388),y=t(53),w=t(209);const k=e=>{let{form:n,visible:t}=e;const a=Object(m.useRef)();Object(m.useEffect)((()=>{a.current=t}),[t]);const i=a.current;Object(m.useEffect)((()=>{!t&&i&&n.resetFields()}),[t,n,i])},S=e=>{let{visible:n,onCancel:t,onCreate:a}=e;const[i]=y.a.useForm(),{t:o}=Object(x.a)();k({form:i,visible:n});return Object(g.jsx)(f.a,{title:o("Add New"),visible:n,onOk:()=>{i.submit()},onCancel:t,children:Object(g.jsx)(y.a,{form:i,onFinish:e=>{a(e)},layout:"vertical",name:"userForm",children:Object(g.jsx)(y.a.Item,{name:"name",label:o("common.name"),rules:[{required:!0,message:o("common.requiredField")}],children:Object(g.jsx)(w.a,{})})})})};var z,C,F,M,A,I;Object(r.c)(y.a.Item)(z||(z=Object(c.a)(["\n  & label {\n    font-size: ",";\n    font-weight: ",";\n  }\n"])),p.d.md,p.e.semibold),r.c.div(C||(C=Object(c.a)(["\n  color: var(--primary-color);\n  font-size: ",";\n  font-weight: ",";\n"])),p.d.md,p.e.semibold),r.c.ul(F||(F=Object(c.a)(["\n  list-style-type: none;\n"]))),r.c.li(M||(M=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 0.8rem;\n"]))),r.c.div(A||(A=Object(c.a)(["\n  color: var(--text-main-color);\n  font-size: ",";\n  font-weight: ",";\n  margin-button: 0.5rem;\n"])),p.d.md,p.e.semibold);const Y=Object(r.c)(h.a)(I||(I=Object(c.a)(["\n  margin: 0.5rem 0 0.5rem auto;\n"]))),_=e=>{let{visible:n,onCancel:t,onEdit:a,editedValues:i}=e;const[o]=y.a.useForm(),{t:c}=Object(x.a)();k({form:o,visible:n});return Object(g.jsx)(f.a,{title:c("Add New"),visible:n,onOk:()=>{o.submit()},onCancel:t,children:Object(g.jsx)(y.a,{form:o,onFinish:e=>{a(e)},layout:"vertical",name:"userForm",initialValues:i,children:Object(g.jsx)(y.a.Item,{name:"name",label:c("common.name"),rules:[{required:!0,message:c("common.requiredField")}],children:Object(g.jsx)(w.a,{value:null===i||void 0===i?void 0:i.name})})})})};var q,D=t(212),E=t(199),P=t(60),V=t(581);const J=Object(r.c)(V.a)(q||(q=Object(c.a)(["\n  color: var(--black);\n\n  .ant-alert-message {\n    color: var(--black);\n  }\n"]))),N=e=>Object(g.jsx)(J,{...e});var R=t(201),Q=t.n(R);var T=t(89),B=t.n(T);var G=t(18);const H=()=>{const{t:e}=Object(x.a)(),n=Object(G.q)(),[t,a]=Object(m.useState)(void 0),[i,o]=Object(m.useState)(void 0),[c,r]=Object(m.useState)({data:[]}),[s,l]=Object(m.useState)({current:1,pageSize:10}),[d,j]=Object(m.useState)(!1),[p,v]=Object(m.useState)(!1),[f,y]=Object(m.useState)(!1),[w,k]=Object(m.useState)(!1),[z,C]=Object(m.useState)(!1),[F,M]=Object(m.useState)(""),[A,I]=Object(m.useState)(!0),[q,V]=Object(m.useState)(!1),{refetch:J,isRefetching:R}=Object(E.useQuery)(["pages",s.current,s.pageSize,z,w,q],(()=>{var e,n;return(async(e,n,t)=>await Q.a.get("https://eabir-backend.onrender.com/api/v1/pages?page=".concat(e,"&limit=").concat(n,"&keyword=").concat(t)))(null!==(e=s.current)&&void 0!==e?e:1,null!==(n=s.pageSize)&&void 0!==n?n:10,F).then((e=>{var n;r(null===e||void 0===e?void 0:e.data),I(null===(n=e.data)||void 0===n?void 0:n.success)})).catch((e=>{var n;I(!1),P.a.error({message:(null===e||void 0===e?void 0:e.message)||(null===(n=e.error)||void 0===n?void 0:n.message)})}))})),T=Object(E.useMutation)((n=>(async e=>await Q.a.post("https://eabir-backend.onrender.com/api/v1/pages",{name:e}))(n.name).then((()=>{P.a.success({message:e("Pagess.addPagesSuccessMessage")}),j(!1),V(!0)})).catch((e=>{var n;P.a.error({message:e.message||(null===(n=e.error)||void 0===n?void 0:n.message)})})))),H=Object(E.useMutation)((e=>(async e=>await Q.a.put("https://eabir-backend.onrender.com/api/v1/pages/".concat(null===e||void 0===e?void 0:e._id),{name:null===e||void 0===e?void 0:e.name}))(e))),K=Object(E.useMutation)((e=>(async e=>await Q.a.delete("https://eabir-backend.onrender.com/api/v1/pages/".concat(e)))(e))),L=[{title:e("common.id"),dataIndex:"_id",width:"2%",render:e=>Object(g.jsx)("span",{children:null===e||void 0===e?void 0:e.substring(0,3)})},{title:e("common.name"),dataIndex:"name",render:e=>Object(g.jsx)("span",{children:e})},{title:e("common.createdAt"),dataIndex:"createdAt",width:"10%",render:e=>Object(g.jsx)("span",{children:B()(e).format("YYYY-MM-DD")})},{title:e("common.updatedAt"),dataIndex:"updatedAt",width:"10%",render:e=>Object(g.jsx)("span",{children:B()(e).format("YYYY-MM-DD")})},{title:e("tables.actions"),dataIndex:"actions",width:"15%",render:(t,i)=>Object(g.jsxs)(u.b,{children:[Object(g.jsx)(h.a,{type:"ghost",onClick:()=>{v(!0),a(i)},children:e("common.edit")}),Object(g.jsx)(h.a,{type:"default",danger:!0,onClick:()=>{y(!0),o(i)},children:e("tables.delete")}),Object(g.jsx)(h.a,{type:"default",onClick:()=>n("/".concat(null===i||void 0===i?void 0:i._id)),children:e("tables.setting")})]})}];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Y,{type:"default",htmlType:"button",onClick:()=>{j(!0)},children:e("common.add")}),Object(g.jsx)(S,{visible:d,onCancel:()=>{j(!1)},onCreate:e=>{T.mutateAsync(e)}}),Object(g.jsx)(_,{visible:p,onCancel:()=>{v(!1)},onEdit:n=>void 0!==t&&((n,t)=>{H.mutateAsync({...n,_id:t}).then((n=>{var t;k(null===(t=n.data)||void 0===t?void 0:t.success),I(!0),b.b.open({content:Object(g.jsx)(N,{message:e("Pagess.editPagesSuccessMessage"),type:"success",showIcon:!0})})})).catch((e=>{var n;b.b.open({content:Object(g.jsx)(N,{message:(null===(n=e.error)||void 0===n?void 0:n.message)||e.message,type:"error",showIcon:!0})})})).finally((()=>{I(!1)}))})(n,t._id),editedValues:t}),Object(g.jsx)("div",{children:Object(g.jsx)(D.a,{title:e("common.DeleteModal"),centered:!0,visible:f,onOk:()=>{(null===i||void 0===i?void 0:i._id)&&(e=>{var n;s.current&&(s.current>1&&1===(null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.length)?(K.mutateAsync(e),l({...s,current:s.current-1}),I(!0)):(K.mutateAsync(e),I(!1)))})(null===i||void 0===i?void 0:i._id),y(!1),C(!0)},onCancel:()=>y(!1),size:"small",children:Object(g.jsx)("p",{children:e("modals.deleteEnsureMessage")})})}),Object(g.jsx)(O,{columns:L,dataSource:c.data,pagination:{current:s.current,pageSize:s.pageSize,onChange:(e,n)=>{l({current:e,pageSize:n})},total:20},scroll:{x:800},bordered:!0,loading:A})]})};n.default=()=>{const{t:e}=Object(x.a)();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(o.a,{children:e("common.pages-managment")}),Object(g.jsx)(l,{id:"editable-table",title:e("common.pages-managment"),padding:"1.25rem 1.25rem 0",children:Object(g.jsx)(H,{})})]})}}}]);
//# sourceMappingURL=28.09c62501.chunk.js.map